{% extends 'layout.html' %}
{% load static %}
{% block body %}
    <!-- Header Start -->
    <div class="container-fluid bg-breadcrumb">
      <div class="container text-center py-5" style="max-width: 900px;">
          <h4 class="text-white display-4 mb-4 wow animate__animated animate__fadeInDown" data-wow-delay="0.1s" style="font-weight: bolder;">Contact Us</h4>
          <ol class="breadcrumb d-flex justify-content-center mb-0 wow fadeInDown" data-wow-delay="0.3s">
              <li class="breadcrumb-item"><a href="{% url 'home' %}">Home</a></li>
              <li class="breadcrumb-item active text-danger">Contact</li>
          </ol>
      </div>
  </div>
  
  <!-- Header End -->

  <!-- Initialize WOW.js -->
  <script>
      new WOW().init(); // Initialize WOW.js
  </script>



<!-- Contact Section -->
<section id="contact" class="contact section" style="background-color: rgb(243, 246, 248);">
<section>
    <div class="text-center mx-auto pb-5 wow fadeInUp" data-wow-delay="0.1s" style="max-width: 800px; " data-aos="fade-up">
      <h1 class="display-5 text-capitalize mb-3">
        <span style="color: black; font-weight:bold;">Contact</span>
        <span style="color: red;font-weight: bold;">Us</span>
      </h1>
      <p class="mb-0">
        Just get in touch anyday anytime through the avenues below.
      </p>
    </div> 
  </section>

    <!-- End Section Title -->
     <div class="card rounded" style="margin: 40px 40px ; padding: 12px; background-color: rgb(243, 246, 248);">

     

    <div class="container" data-aos="fade-up" data-aos-delay="100">

      <div class="row gy-4">

        <div class="col-lg-6">
          <div class="info-item d-flex flex-column justify-content-center align-items-center" data-aos="fade-up" data-aos-delay="200">
            <i class="bi bi-geo-alt"></i>
            <h3>Address</h3>
            <p>P.O Box 15653 - 00100 , Nairobi</p>
          </div>
        </div><!-- End Info Item -->

        <div class="col-lg-3 col-md-6">
          <div class="info-item d-flex flex-column justify-content-center align-items-center" data-aos="fade-up" data-aos-delay="300">
            <a href="https://wa.me/0791751475" target="_blank"><i class="bi bi-telephone"></i></a>
            <h3>Call Us</h3>
              <a href="tel:+254791751475" style="color: black; text-decoration: none;" 
                 onmouseover="this.style.color='red'" 
                 onmouseout="this.style.color='black'">
                <p>+254791751475</p>
              </a>
            
          
          </div>
        </div><!-- End Info Item -->

        <div class="col-lg-3 col-md-6">
          <div class="info-item d-flex flex-column justify-content-center align-items-center" data-aos="fade-up" data-aos-delay="400">
            <a href="mailto:apartmateme@gmail.com" class="text-decoration-none">
            <i class="bi bi-envelope"></i></a>
            <h3>Email Us</h3>
            <a href="mailto:apartmateme@gmail.com"style="color: black; text-decoration: none;"
            onmouseover="this.style.color='red'" 
            onmouseout="this.style.color='black'">
            <p>apartmateme@gmail.com</p></a>
            
          </div>
        </div><!-- End Info Item -->

      </div>

      <div class="row gy-4 mt-1">
        <div class="col-lg-6" data-aos="fade-up" data-aos-delay="300">
         <!-- Embedded Map -->
         <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3988.657302780396!2d36.76590507574663!3d-1.3822639986046639!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x182f059ba53cc253%3A0x84f65413371bebb!2sMultimedia%20University%20of%20Kenya!5e0!3m2!1sen!2ske!4v1732543338767!5m2!1sen!2ske"
         width="100%" height="320" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div><!-- End Google Maps -->

        <div class="col-lg-6">
          <form 
            id="contactForm" 
            action="{% url 'contact' %}" 
            method="post" 
            class="php-email-form" 
            data-aos="fade-up" 
            data-aos-delay="400">
            {% csrf_token %}
            <div class="row gy-4">
        
              <!-- Name Field -->
              <div class="col-md-6">
                <input 
                  type="text" 
                  name="name" 
                  class="form-control" 
                  placeholder="Your Name" 
                  required="">
              </div>
        
              <!-- Email Field -->
              <div class="col-md-6">
                <input 
                  type="email" 
                  name="email" 
                  class="form-control" 
                  placeholder="Your Email" 
                  required="">
              </div>
        
              <!-- Subject Field -->
              <div class="col-md-12">
                <input 
                  type="text" 
                  name="subject" 
                  class="form-control" 
                  placeholder="Subject" 
                  required="">
              </div>
        
              <!-- Message Field -->
              <div class="col-md-12">
                <textarea 
                  class="form-control" 
                  name="message" 
                  rows="6" 
                  placeholder="Message" 
                  required=""></textarea>
              </div>
        
              <!-- Submit Button -->
              <div class="col-md-12 text-center">
                <div class="loading">Loading</div>
                <div class="error-message"></div>
                <div class="sent-message">Your message has been sent. Thank you!</div>
        
                <button type="submit">Send Message</button>
              </div>
        
            </div>
          </form>
        </div>
        
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <!-- <script>
          $(document).ready(function () {
            $('#contactForm').on('submit', function (e) {
              e.preventDefault(); // Prevent the form's default submission behavior
        
              const formData = $(this).serialize(); // Serialize form data
        
              $.ajax({
                url: "{% url 'contact' %}",
                type: "POST",
                data: formData,
                dataType: "json",
                complete: function () {
                  // Always reload the page after submission
                  location.reload();
                }
              });
            });
          });
        </script> -->
        
        <script>
        $(document).ready(function() {
        $('#contactForm').submit(function(event) {
        event.preventDefault();  // Prevent default form submission

        var formData = new FormData(this);

        $.ajax({
            type: "POST",
            url: "",  // The same URL as the form's action
            data: formData,
            processData: false,  // Don't process the data
            contentType: false,  // Let jQuery set the content type
            success: function(response) {
                if (response.success) {
                    alert(response.message);  // Show success message
                    $('#contactForm')[0].reset();  // Reset form fields
                } else {
                    alert(response.message);  // Show error message
                }
            },
            error: function(xhr, status, error) {
                alert("An error occurred while sending your message. Please try again.");
            }
        });
    });
});

          </script>     
        
         

<!-- End Contact Form -->

      </div>

    </div>

    </div>

  </section><!-- /Contact Section -->


{% endblock %}